<!DOCTYPE html>
<html>
<head>
  <title>IQ Test</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
  <style>
    body {
      background-color: #f2f2f2; /* Set a light gray background color */
    }

    .container {
      margin-top: 100px; /* Add some spacing from the top */
    }

    .button {
      background-color: #4CAF50; /* Set the button color to green */
      border-color: #4CAF50;
      border-radius: 4px;
    }

    #iqResult {
      font-size: 18px;
      margin-top: 20px;
      padding: 10px;
      background-color: #fff;
      border-radius: 4px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="text-center mb-5">Welcome to the IQ Test</h1>
    <div class="text-center">
      <button class="btn btn-primary" onclick="generateIQ()">Generate IQ</button>
    </div>
    <p id="iqResult" class="text-center mt-4"></p>
  </div>

  <script>
    var isTestTaken = false;

    function generateIQ() {
      if (isTestTaken) {
        var savedResult = localStorage.getItem("iqResult");
        if (savedResult) {
          document.getElementById("iqResult").textContent = "Your saved IQ result is: " + savedResult + ". You can't retake the test.";
        } else {
          document.getElementById("iqResult").textContent = "You can't take the test again. You have already tested your IQ.";
        }
        return;
      }

      var minIQ = 1;
      var maxIQ = 160;
      var randomIQ = Math.floor(Math.random() * (maxIQ - minIQ + 1)) + minIQ;
      var iqResultElement = document.getElementById("iqResult");

      if (randomIQ >= 1 && randomIQ <= 60) {
        iqResultElement.textContent = "Your IQ is: " + randomIQ + ". You are Welbert.";
      } else if (randomIQ > 60 && randomIQ <= 100) {
        iqResultElement.textContent = "Your IQ is: " + randomIQ + ". You are smarter than Welbert.";
      } else {
        iqResultElement.textContent = "Your IQ is: " + randomIQ + ". Bro thinks twice!!.";
      }

      localStorage.setItem("iqResult", randomIQ);
      isTestTaken = true;
    }

    // Retrieve the IQ result from local storage on page load
    window.addEventListener("load", function() {
      var savedResult = localStorage.getItem("iqResult");
      if (savedResult) {
        document.getElementById("iqResult").textContent = "Your saved IQ result is: " + savedResult + ". You can't retake the test.";
        isTestTaken = true;
      }
    });
  </script>
</body>
</html>
